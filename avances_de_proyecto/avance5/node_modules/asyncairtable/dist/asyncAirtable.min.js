(()=>{"use strict";var e={300:(e,t)=>{var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},759:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},a=r(276),o=r(368),u=r(320),c=r(917),l=r(682),f="https://api.airtable.com/v0",d=["fields","filterByFormula","maxRecords","pageSize","sort","view","where"],h=function(e,t,r){var h=this;if(this.select=function(e,t,r){return i(h,void 0,void 0,(function(){var i,h,p,y,b,v,w,m,g,O,j;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,20,,21]),c.default(e,"table","string"),c.default(t,"options","object",!1),c.default(r,"page","number",!1),i=f+"/"+this.base+"/"+e,h=t?n({},t):{},Object.keys(h).forEach((function(e){if(!d.includes(e))throw new Error("Invalid option: "+e)})),p="",y=[],!r)return[3,10];b=0,s.label=1;case 1:if(!(b<r))return[3,9];p&&(h.offset=p),s.label=2;case 2:return s.trys.push([2,7,,8]),[4,a.default(i+"?"+o.default(h),{headers:{Authorization:"Bearer "+this.apiKey}})];case 3:return[4,(m=s.sent()).json()];case 4:if(g=s.sent(),!u.default(m.status))return[3,6];if(429!==m.status)throw new Error(JSON.stringify(g));return this.retryOnRateLimit?b+1!==r?[3,6]:[4,l.default(i+"?"+o.default(h),{headers:{Authorization:"Bearer "+this.apiKey}},this.retryTimeout,this.maxRetry,"records")]:[3,6];case 5:return[2,s.sent()];case 6:return b+1===r?[2,g.records]:(p=g.offset,[3,8]);case 7:throw v=s.sent(),new Error(v);case 8:return b++,[3,1];case 9:return[3,19];case 10:w=!1,s.label=11;case 11:if(w)return[3,19];p&&(h.offset=p),s.label=12;case 12:return s.trys.push([12,17,,18]),[4,a.default(i+"?"+o.default(h),{headers:{Authorization:"Bearer "+this.apiKey}})];case 13:return[4,(m=s.sent()).json()];case 14:if(g=s.sent(),!u.default(m.status))return[3,16];if(429!==m.status)throw new Error(JSON.stringify(g));return this.retryOnRateLimit?[4,l.default(i+"?"+o.default(h),{headers:{Authorization:"Bearer "+this.apiKey}},this.retryTimeout,this.maxRetry,"records")]:[3,16];case 15:return[2,s.sent()];case 16:return y=y.concat(g.records),p=g.offset,g.offset||(w=!0),[3,18];case 17:throw O=s.sent(),new Error(O);case 18:return[3,11];case 19:return[2,y];case 20:throw j=s.sent(),new Error(j);case 21:return[2]}}))}))},this.find=function(e,t){return i(h,void 0,void 0,(function(){var r,n,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"id","string"),r=f+"/"+this.base+"/"+e+"/"+t,[4,a.default(r,{headers:{Authorization:"Bearer "+this.apiKey}})];case 1:return[4,(n=s.sent()).json()];case 2:if(i=s.sent(),!u.default(n.status))return[3,4];if(429!==n.status)throw new Error(JSON.stringify(i));return this.retryOnRateLimit?[4,l.default(r,{headers:{Authorization:"Bearer "+this.apiKey}},this.retryTimeout,this.maxRetry)]:[3,4];case 3:return[2,s.sent()];case 4:return[2,i];case 5:throw o=s.sent(),new Error(o);case 6:return[2]}}))}))},this.createRecord=function(e,t,r){return i(h,void 0,void 0,(function(){var n,i,o,d,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"record","object"),c.default(r,"typecast","boolean",!1),n=f+"/"+this.base+"/"+e,i={fields:t},void 0!==r&&(i.typecast=r),[4,a.default(n,{method:"post",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}})];case 1:return[4,(o=s.sent()).json()];case 2:if(d=s.sent(),!u.default(o.status))return[3,4];if(429!==o.status)throw new Error(JSON.stringify(d));return this.retryOnRateLimit?[4,l.default(n,{method:"post",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}},this.retryTimeout,this.maxRetry)]:[3,4];case 3:return[2,s.sent()];case 4:return[2,d];case 5:throw h=s.sent(),new Error(h);case 6:return[2]}}))}))},this.updateRecord=function(e,t,r){return i(h,void 0,void 0,(function(){var n,i,o,d,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"record","object"),r&&(c.default(r.destructive,"opts.desctructive","boolean"),c.default(r.typecast,"opts.typecast","boolean",!1)),n=f+"/"+this.base+"/"+e+"/"+t.id,i={fields:t.fields},void 0!==(null==r?void 0:r.typecast)&&(i.typecast=null==r?void 0:r.typecast),[4,a.default(n,{method:(null==r?void 0:r.destructive)?"put":"patch",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}})];case 1:return[4,(o=s.sent()).json()];case 2:if(d=s.sent(),!u.default(o.status))return[3,4];if(429!==o.status)throw new Error(JSON.stringify(d));return this.retryOnRateLimit?[4,l.default(n,{method:(null==r?void 0:r.destructive)?"put":"patch",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}},this.retryTimeout,this.maxRetry)]:[3,4];case 3:return[2,s.sent()];case 4:return[2,d];case 5:throw h=s.sent(),new Error(h);case 6:return[2]}}))}))},this.deleteRecord=function(e,t){return i(h,void 0,void 0,(function(){var r,n,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"id","string"),r=f+"/"+this.base+"/"+e+"/"+t,[4,a.default(r,{method:"delete",headers:{Authorization:"Bearer "+this.apiKey}})];case 1:return[4,(n=s.sent()).json()];case 2:if(i=s.sent(),!u.default(n.status))return[3,4];if(429!==n.status)throw new Error(JSON.stringify(i));return this.retryOnRateLimit?[4,l.default(r,{method:"delete",headers:{Authorization:"Bearer "+this.apiKey}},this.retryTimeout,this.maxRetry)]:[3,4];case 3:return[2,s.sent()];case 4:return[2,i];case 5:throw o=s.sent(),new Error(o);case 6:return[2]}}))}))},this.bulkCreate=function(e,t,r){return i(h,void 0,void 0,(function(){var n,i,o,d,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"records","array"),c.default(r,"typecast","boolean",!1),n=f+"/"+this.base+"/"+e,i={records:t.map((function(e){return{fields:e}}))},void 0!==r&&(i.typecast=r),[4,a.default(n,{method:"post",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}})];case 1:return[4,(o=s.sent()).json()];case 2:if(d=s.sent(),!u.default(o.status))return[3,4];if(429!==o.status)throw new Error(JSON.stringify(d));return this.retryOnRateLimit?[4,l.default(n,{method:"post",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}},this.retryTimeout,this.maxRetry,"records")]:[3,4];case 3:return[2,s.sent()];case 4:return[2,d.records];case 5:throw h=s.sent(),new Error(h);case 6:return[2]}}))}))},this.bulkUpdate=function(e,t,r){return i(h,void 0,void 0,(function(){var n,i,o,d,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"records","array"),r&&(c.default(r.destructive,"opts.desctructive","boolean",!1),c.default(r.typecast,"opts.typecast","boolean",!1)),n=f+"/"+this.base+"/"+e,i={records:t},void 0!==(null==r?void 0:r.typecast)&&(i.typecast=null==r?void 0:r.typecast),[4,a.default(n,{method:(null==r?void 0:r.destructive)?"put":"patch",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}})];case 1:return[4,(o=s.sent()).json()];case 2:if(d=s.sent(),!u.default(o.status))return[3,4];if(429!==o.status)throw new Error(JSON.stringify(d));return this.retryOnRateLimit?[4,l.default(n,{method:(null==r?void 0:r.destructive)?"put":"patch",body:JSON.stringify(i),headers:{Authorization:"Bearer "+this.apiKey,"Content-Type":"application/json"}},this.retryTimeout,this.maxRetry,"records")]:[3,4];case 3:return[2,s.sent()];case 4:return[2,d.records];case 5:throw h=s.sent(),new Error(h);case 6:return[2]}}))}))},this.bulkDelete=function(e,t){return i(h,void 0,void 0,(function(){var r,n,i,o,d;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),c.default(e,"table","string"),c.default(t,"ids","array"),r="",t.forEach((function(e,t){r=0!==t?r+"&records[]="+e:"records[]="+e})),n=f+"/"+this.base+"/"+e+"?"+encodeURI(r),[4,a.default(n,{method:"delete",headers:{Authorization:"Bearer "+this.apiKey}})];case 1:return[4,(i=s.sent()).json()];case 2:if(o=s.sent(),!u.default(i.status))return[3,4];if(429!==i.status)throw new Error(JSON.stringify(o));return this.retryOnRateLimit?[4,l.default(n,{method:"delete",headers:{Authorization:"Bearer "+this.apiKey}},this.retryTimeout,this.maxRetry,"records")]:[3,4];case 3:return[2,s.sent()];case 4:return[2,o.records];case 5:throw d=s.sent(),new Error(d);case 6:return[2]}}))}))},this.upsertRecord=function(e,t,r,n){return i(h,void 0,void 0,(function(){var i;return s(this,(function(s){switch(s.label){case 0:return c.default(e,"table","string"),c.default(t,"filterString","string"),c.default(r,"record","object"),n&&(c.default(n.destructive,"opts.desctructive","boolean",!1),c.default(n.typecast,"opts.typecast","boolean",!1)),[4,this.select(e,{filterByFormula:t})];case 1:return(i=s.sent())[0]?[3,3]:[4,this.createRecord(e,r,null==n?void 0:n.typecast)];case 2:return[2,s.sent()];case 3:return[4,this.updateRecord(e,{id:i[0].id,fields:r},n)];case 4:return[2,s.sent()]}}))}))},!e)throw new Error("API Key is required.");if(!t)throw new Error("Base ID is required.");this.apiKey=e,this.base=t,this.retryOnRateLimit=(null==r?void 0:r.retryOnRateLimit)||!0,this.retryTimeout=(null==r?void 0:r.retryTimeout)||5e3,this.maxRetry=(null==r?void 0:r.maxRetry)||6e4};"undefined"!=typeof window&&(window.AsyncAirtable=h),e.exports=h},368:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(244);t.default=function(e){if(Object.prototype.hasOwnProperty.call(e,"filterByFormula")&&Object.prototype.hasOwnProperty.call(e,"where"))throw new Error("Cannot use both where and filterByFormula as they accomplish the same thing");var t=Object.keys(e).map((function(t,r){var i,s=e[t];return i=Array.isArray(s)?s.map((function(e,r){switch(typeof e){case"object":return Object.keys(e).map((function(n){return t+"["+r+"]["+n+"]="+e[n]})).join("&");case"string":return t+"[]="+e}})).join("&"):"where"===t?"filterByFormula="+n.default(s):t+"="+s,0!==r?"&"+i:i})).join("");return encodeURI(t)}},917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){if(void 0===n&&(n=!0),void 0===e&&n)throw new Error('Argument "'+t+'" is required.');if((void 0!==e||n)&&typeof e!==r){if("array"===r&&Array.isArray(e))return;throw new Error('Incorrect data type on argument "'+t+'". Received "'+typeof e+'": expected "'+r+'"')}}},320:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e>=300}},276:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(300);t.default="undefined"!=typeof window?window.fetch.bind(window):n},244:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baseHandler=t.booleanHandler=t.logicalOperators=t.numericalOperators=t.buildExpression=t.isQueryObject=void 0;var r=["=","!=",">",">=","<","<="];t.isQueryObject=function(e){if(void 0===e)throw new Error("Missing Query Object");return null!==e&&!["string","number","boolean"].includes(typeof e)},t.buildExpression=function(e,n){if("object"!=typeof e||Array.isArray(e))throw new Error("Missing or Invalid Comparison Object");if("string"!=typeof n&&!r.includes(n))throw new Error("Missing or Invalid Comparison Operator");var i=Object.keys(e),s=""+i.map((function(r,s){var a=t.baseHandler(e[r]);return"{"+r+"} "+n+" "+a+(s<i.length-1?", ":"")})).join("");return i.length>1?"AND("+s+")":s},t.numericalOperators={$gt:function(e){return t.buildExpression(e,">")},$lt:function(e){return t.buildExpression(e,"<")},$gte:function(e){return t.buildExpression(e,">=")},$lte:function(e){return t.buildExpression(e,"<=")},$eq:function(e){return t.buildExpression(e,"=")},$neq:function(e){return t.buildExpression(e,"!=")}},t.logicalOperators={$not:function(e){return"NOT("+n(e)+")"},$and:function(e){var t="AND(";return e.forEach((function(r,i){t+=n(r),i<e.length-1&&(t+=", ")})),t+")"},$or:function(e){var t="OR(";return e.forEach((function(r,i){t+=n(r),i<e.length-1&&(t+=", ")})),t+")"}},t.booleanHandler=function(e){if("boolean"!=typeof e)throw new Error("Invalid type");return e?"TRUE()":"FALSE()"},t.baseHandler=function(e){if(null===e)return"BLANK()";switch(typeof e){case"number":return""+e;case"string":return"'"+e+"'";case"boolean":return t.booleanHandler(e);default:throw new Error("Wrong Type")}};var n=function(e){var r="";if(Object.keys(e).length>1)r+=t.logicalOperators.$and(Object.keys(e).map((function(t){var r;return(r={})[t]=e[t],r})));else for(var n in e){var i=e[n];n in t.numericalOperators&&t.isQueryObject(i)?r+=t.numericalOperators[n](i):n in t.logicalOperators&&(t.isQueryObject(i)||Array.isArray(i))?r+=t.logicalOperators[n](i):r+=t.buildExpression(e,"=")}return r};t.default=n},682:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(276);t.default=function(e,t,r,a,o){return n(void 0,void 0,void 0,(function(){return i(this,(function(u){return[2,new Promise((function(u,c){var l=function(e,t,r,a,o){a&&a<1&&c("Max timeout exceeded"),setTimeout((function(){return n(void 0,void 0,void 0,(function(){var n,f,d;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,s.default(e,t)];case 1:return[4,(n=i.sent()).json()];case 2:return f=i.sent(),429===n.status?[2,l(e,t,1.5*r,a-r,o)]:(u(o?f[o]:f),[3,4]);case 3:return d=i.sent(),c(d),[3,4];case 4:return[2]}}))}))}),r)};l(e,t,r,a,o)}))]}))}))}}},t={};!function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(759)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vbm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2FzeW5jQWlydGFibGUudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9idWlsZE9wdHMudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9jaGVja0FyZy50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL2NoZWNrRXJyb3IudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS8uL3NyYy9mZXRjaC50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL3F1ZXJ5QnVpbGRlci50cyIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlLy4vc3JjL3JhdGVMaW1pdEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vYXN5bmNhaXJ0YWJsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hc3luY2FpcnRhYmxlL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJnbG9iYWwiLCJzZWxmIiwid2luZG93IiwiRXJyb3IiLCJnZXRHbG9iYWwiLCJtb2R1bGUiLCJleHBvcnRzIiwiZmV0Y2giLCJkZWZhdWx0IiwiYmluZCIsIkhlYWRlcnMiLCJSZXF1ZXN0IiwiUmVzcG9uc2UiLCJiYXNlVVJMIiwidmFsaWRPcHRpb25zIiwiYXBpS2V5IiwiYmFzZSIsImNvbmZpZyIsInNlbGVjdCIsInRhYmxlIiwib3B0aW9ucyIsInBhZ2UiLCJ1cmwiLCJ0aGlzIiwib3B0cyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwib3B0aW9uIiwiaW5jbHVkZXMiLCJvZmZzZXQiLCJkYXRhIiwiaSIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmVzIiwianNvbiIsImJvZHkiLCJzdGF0dXMiLCJKU09OIiwic3RyaW5naWZ5IiwicmV0cnlPblJhdGVMaW1pdCIsInJldHJ5VGltZW91dCIsIm1heFJldHJ5IiwicmVjb3JkcyIsImRvbmUiLCJjb25jYXQiLCJmaW5kIiwiaWQiLCJjcmVhdGVSZWNvcmQiLCJyZWNvcmQiLCJ0eXBlY2FzdCIsImZpZWxkcyIsInVuZGVmaW5lZCIsIm1ldGhvZCIsInVwZGF0ZVJlY29yZCIsImRlc3RydWN0aXZlIiwiZGVsZXRlUmVjb3JkIiwiYnVsa0NyZWF0ZSIsIm1hcCIsImJ1bGtVcGRhdGUiLCJidWxrRGVsZXRlIiwiaWRzIiwiZW5jb2RlVVJJIiwidXBzZXJ0UmVjb3JkIiwiZmlsdGVyU3RyaW5nIiwiZmlsdGVyQnlGb3JtdWxhIiwiZXhpc3RzIiwiQXN5bmNBaXJ0YWJsZSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInBhcmFtcyIsImtleSIsImZvcm1hdHRlZCIsIm9wdCIsIkFycmF5IiwiaXNBcnJheSIsIml0ZW0iLCJqIiwic3ViS2V5Iiwiam9pbiIsImFyZyIsIm5hbWUiLCJ0eXBlIiwicmVxdWlyZWQiLCJub2RlRmV0Y2giLCJvcGVyYXRvcnMiLCJpc1F1ZXJ5T2JqZWN0IiwiYnVpbGRFeHByZXNzaW9uIiwib2JqIiwib3AiLCJleHAiLCJrIiwidmFsIiwiYmFzZUhhbmRsZXIiLCJsZW5ndGgiLCJudW1lcmljYWxPcGVyYXRvcnMiLCIkZ3QiLCIkbHQiLCIkZ3RlIiwiJGx0ZSIsIiRlcSIsIiRuZXEiLCJsb2dpY2FsT3BlcmF0b3JzIiwiJG5vdCIsImV4cHJlc3Npb24iLCJxdWVyeUJ1aWxkZXIiLCIkYW5kIiwiYXJncyIsInN0ciIsIiRvciIsImJvb2xlYW5IYW5kbGVyIiwiYm9vbCIsInF1ZXJ5IiwiZm9ybXVsYVN0cmluZyIsImN1cnJlbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJldHJ5UmF0ZUxpbWl0Iiwic2V0VGltZW91dCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iXSwibWFwcGlu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QUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVdEgsUUFHM0MsSUFBSUQsRUFBU3FILEVBQXlCRSxHQUFZLENBR2pEdEgsUUFBUyxJQU9WLE9BSEF1SCxFQUFvQkQsR0FBVXJELEtBQUtsRSxFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTcUgsR0FHcEV0SCxFQUFPQyxRQ2pCZnFILENBQW9CLE0iLCJmaWxlIjoiYXN5bmNBaXJ0YWJsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWxcbnZhciBnZXRHbG9iYWwgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuXHQvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcblx0Ly8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG5cdGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHNlbGY7IH1cblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiB3aW5kb3c7IH1cblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cblx0dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn1cblxudmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBnbG9iYWwuZmV0Y2g7XG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBhbmQgV2VicGFjay5cbmlmIChnbG9iYWwuZmV0Y2gpIHtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsLmZldGNoLmJpbmQoZ2xvYmFsKTtcbn1cblxuZXhwb3J0cy5IZWFkZXJzID0gZ2xvYmFsLkhlYWRlcnM7XG5leHBvcnRzLlJlcXVlc3QgPSBnbG9iYWwuUmVxdWVzdDtcbmV4cG9ydHMuUmVzcG9uc2UgPSBnbG9iYWwuUmVzcG9uc2U7IiwiaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnO1xuaW1wb3J0IGJ1aWxkT3B0cyBmcm9tICcuL2J1aWxkT3B0cyc7XG5pbXBvcnQgY2hlY2tFcnJvciBmcm9tICcuL2NoZWNrRXJyb3InO1xuaW1wb3J0IGNoZWNrQXJnIGZyb20gJy4vY2hlY2tBcmcnO1xuaW1wb3J0IHJhdGVMaW1pdEhhbmRsZXIgZnJvbSAnLi9yYXRlTGltaXRIYW5kbGVyJztcbmNvbnN0IGJhc2VVUkwgPSAnaHR0cHM6Ly9hcGkuYWlydGFibGUuY29tL3YwJztcbmltcG9ydCB7XG4gIFNlbGVjdE9wdGlvbnMsXG4gIEFpcnRhYmxlRGVsZXRlZFJlc3BvbnNlLFxuICBBaXJ0YWJsZVJlY29yZCxcbiAgQWlydGFibGVSZWNvcmRSZXNwb25zZSxcbiAgQWlydGFibGVVcGRhdGVSZWNvcmQsXG4gIERlbGV0ZVJlc3BvbnNlLFxuICBGaWVsZHMsXG4gIENvbmZpZyxcbiAgcXVlcnlCb2R5LFxuICBUeXBlY2FzdCxcbiAgdXBkYXRlT3B0cyxcbiAgYnVsa1F1ZXJ5Qm9keSxcbn0gZnJvbSAnLi9AdHlwZXMnO1xuXG4vKiogQGlnbm9yZSAqL1xuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBBc3luY0FpcnRhYmxlOiB0eXBlb2YgQXN5bmNBaXJ0YWJsZTtcbiAgfVxufVxuXG5jb25zdCB2YWxpZE9wdGlvbnM6IHN0cmluZ1tdID0gW1xuICAnZmllbGRzJyxcbiAgJ2ZpbHRlckJ5Rm9ybXVsYScsXG4gICdtYXhSZWNvcmRzJyxcbiAgJ3BhZ2VTaXplJyxcbiAgJ3NvcnQnLFxuICAndmlldycsXG4gICd3aGVyZScsXG5dO1xuXG4vKipcbiAqIFRoZSBtYWluIEFzeW5jQWlydGFibGUgY2xhc3MuXG4gKi9cbmNsYXNzIEFzeW5jQWlydGFibGUge1xuICAvKipcbiAgICogQGRlZmF1bHQ9dHJ1ZVxuICAgKiBUaGlzIGRlY2lkZXMgd2hldGhlciBvciBub3QgdGhlIGxpYnJhcnkgd2lsbFxuICAgKiBoYW5kbGUgcmV0cnlpbmcgYSByZXF1ZXN0IHdoZW4gcmF0ZSBsaW1pdGVkXG4gICAqL1xuICByZXRyeU9uUmF0ZUxpbWl0OiBib29sZWFuO1xuICAvKipcbiAgICogQGRlZmF1bHQ9NjAwMDBcbiAgICogVGhlIG1heG1pdW0gYW1vdW50IG9mIHRpbWUgYmVmb3JlIHRoZVxuICAgKiBsaWJyYXJ5IHdpbGwgc3RvcCByZXRyeWluZyBhbmQgdGltZW91dCB3aGVuIHJhdGUgbGltaXRlZFxuICAgKi9cbiAgbWF4UmV0cnk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBkZWZhdWx0PTUwMDBcbiAgICogVGhlIHN0YXJ0aW5nIHRpbWVvdXQgZm9yIHRoZSByZXRyeS4gVGhpcyB3aWxsIGdldCA1MCVcbiAgICogbGFyZ2VyIHdpdGggZWFjaCB0cnkgdW50aWwgeW91IGhpdCB0aGUgbWF4UmV0cnkgYW1vdW50XG4gICAqL1xuICByZXRyeVRpbWVvdXQ6IG51bWJlcjtcbiAgLyoqIFRoZSBBUEkgS2V5IGZyb20gQWlyVGFibGUgKi9cbiAgYXBpS2V5OiBzdHJpbmc7XG4gIC8qKiBUaGUgYmFzZSBpZCBmcm9tIEFpclRhYmxlICovXG4gIGJhc2U6IHN0cmluZztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQXN5bmNBaXJ0YWJsZSBsaWJyYXJ5LlxuICAgKiBAcGFyYW0gYXBpS2V5IFRoZSBBUEkgS2V5IGZyb20gQWlyVGFibGVcbiAgICogQHBhcmFtIGJhc2UgVGhlIGJhc2UgaWQgZnJvbSBBaXJUYWJsZVxuICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWcgdG8gdXNlIGZvciB0aGlzIGluc3RhbmNlIG9mIEFzeW5jQWlydGFibGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nLCBiYXNlOiBzdHJpbmcsIGNvbmZpZz86IENvbmZpZykge1xuICAgIGlmICghYXBpS2V5KSB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBLZXkgaXMgcmVxdWlyZWQuJyk7XG4gICAgaWYgKCFiYXNlKSB0aHJvdyBuZXcgRXJyb3IoJ0Jhc2UgSUQgaXMgcmVxdWlyZWQuJyk7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICB0aGlzLnJldHJ5T25SYXRlTGltaXQgPSBjb25maWc/LnJldHJ5T25SYXRlTGltaXQgfHwgdHJ1ZTtcbiAgICB0aGlzLnJldHJ5VGltZW91dCA9IGNvbmZpZz8ucmV0cnlUaW1lb3V0IHx8IDUwMDA7XG4gICAgdGhpcy5tYXhSZXRyeSA9IGNvbmZpZz8ubWF4UmV0cnkgfHwgNjAwMDA7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IHJlY29yZChzKSBmcm9tIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LCB1c2VkIHRvIGZpbHRlciByZWNvcmRzXG4gICAqIEBwYXJhbSBwYWdlIFVzZWQgdG8gZ2V0IGEgc3BlY2lmaWMgcGFnZSBvZiByZWNvcmRzXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgc2VsZWN0ID0gYXN5bmMgKFxuICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFNlbGVjdE9wdGlvbnMsXG4gICAgcGFnZT86IG51bWJlcixcbiAgKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZFtdPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNoZWNrQXJnKHRhYmxlLCAndGFibGUnLCAnc3RyaW5nJyk7XG4gICAgICBjaGVja0FyZyhvcHRpb25zLCAnb3B0aW9ucycsICdvYmplY3QnLCBmYWxzZSk7XG4gICAgICBjaGVja0FyZyhwYWdlLCAncGFnZScsICdudW1iZXInLCBmYWxzZSk7XG4gICAgICBjb25zdCB1cmwgPSBgJHtiYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX1gO1xuICAgICAgY29uc3Qgb3B0czogU2VsZWN0T3B0aW9ucyA9IG9wdGlvbnMgPyB7IC4uLm9wdGlvbnMgfSA6IHt9O1xuICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRPcHRpb25zLmluY2x1ZGVzKG9wdGlvbikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3B0aW9uOiAke29wdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBsZXQgb2Zmc2V0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSAnJztcbiAgICAgIGxldCBkYXRhOiBBaXJ0YWJsZVJlY29yZFtdID0gW107XG4gICAgICBpZiAocGFnZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2U7IGkrKykge1xuICAgICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAgIG9wdHMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzOiBSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0/JHtidWlsZE9wdHMob3B0cyl9YCwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHk6IEFpcnRhYmxlUmVjb3JkUmVzcG9uc2UgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxID09PSBwYWdlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmF0ZUxpbWl0SGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgYCR7dXJsfT8ke2J1aWxkT3B0cyhvcHRzKX1gLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhSZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgJ3JlY29yZHMnLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpICsgMSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYm9keS5yZWNvcmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ID0gYm9keS5vZmZzZXQ7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAgIG9wdHMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzOiBSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0/JHtidWlsZE9wdHMob3B0cyl9YCwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHk6IEFpcnRhYmxlUmVjb3JkUmVzcG9uc2UgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICBgJHt1cmx9PyR7YnVpbGRPcHRzKG9wdHMpfWAsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgICAgICAgICAncmVjb3JkcycsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YSA9IGRhdGEuY29uY2F0KGJvZHkucmVjb3Jkcyk7XG4gICAgICAgICAgICBvZmZzZXQgPSBib2R5Lm9mZnNldDtcbiAgICAgICAgICAgIGlmICghYm9keS5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kcyBhIHJlY29yZCBvbiB0aGUgc3BlY2lmaWVkIHRhYmxlLlxuICAgKiBAcGFyYW0gdGFibGUgVGFibGUgbmFtZVxuICAgKiBAcGFyYW0gaWQgQWlydGFibGUgcmVjb3JkIElEXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgZmluZCA9IGFzeW5jICh0YWJsZTogc3RyaW5nLCBpZDogc3RyaW5nKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcoaWQsICdpZCcsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfS8ke2lkfWA7XG4gICAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YTogQWlydGFibGVSZWNvcmQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVjb3JkIG9uIHRoZSBzcGVjaWZpZWQgdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZSAtIFRhYmxlIG5hbWVcbiAgICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCBvYmplY3QsIHVzZWQgdG8gc3RydWN0dXJlIGRhdGEgZm9yIGluc2VydFxuICAgKiBAcGFyYW0gdHlwZWNhc3QgLSBVc2VkIGZvciBhbGxvd2luZyB0aGUgYWJpbGl0eSB0byBhZGQgbmV3IHNlbGVjdGlvbnMgZm9yIFNlbGVjdCBhbmQgTXVsdGlzZWxlY3QgZmllbGRzLlxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIGNyZWF0ZVJlY29yZCA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIHJlY29yZDogRmllbGRzLFxuICAgIHR5cGVjYXN0PzogVHlwZWNhc3QsXG4gICk6IFByb21pc2U8QWlydGFibGVSZWNvcmQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICAgIGNoZWNrQXJnKHJlY29yZCwgJ3JlY29yZCcsICdvYmplY3QnKTtcbiAgICAgIGNoZWNrQXJnKHR5cGVjYXN0LCAndHlwZWNhc3QnLCAnYm9vbGVhbicsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfWA7XG4gICAgICBjb25zdCBib2R5OiBxdWVyeUJvZHkgPSB7IGZpZWxkczogcmVjb3JkIH07XG4gICAgICBpZiAodHlwZWNhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBib2R5LnR5cGVjYXN0ID0gdHlwZWNhc3Q7XG4gICAgICB9XG4gICAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRhdGE6IEFpcnRhYmxlUmVjb3JkID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmIChjaGVja0Vycm9yKHJlcy5zdGF0dXMpKSB7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSA0MjkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmV0cnlPblJhdGVMaW1pdCkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCByYXRlTGltaXRIYW5kbGVyKFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0LFxuICAgICAgICAgICAgdGhpcy5tYXhSZXRyeSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhIHJlY29yZCBvbiB0aGUgc3BlY2lmaWVkIHRhYmxlLlxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgb2JqZWN0LCB1c2VkIHRvIHVwZGF0ZSBkYXRhIHdpdGhpbiBhIHNwZWNpZmljIHJlY29yZFxuICAgKiBAcGFyYW0gb3B0cyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnMgZm9yIHlvdXIgdXBkYXRlIHN0YXRlbWVudFxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIHVwZGF0ZVJlY29yZCA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIHJlY29yZDogQWlydGFibGVVcGRhdGVSZWNvcmQsXG4gICAgb3B0cz86IHVwZGF0ZU9wdHMsXG4gICk6IFByb21pc2U8QWlydGFibGVSZWNvcmQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY2hlY2tBcmcodGFibGUsICd0YWJsZScsICdzdHJpbmcnKTtcbiAgICAgIGNoZWNrQXJnKHJlY29yZCwgJ3JlY29yZCcsICdvYmplY3QnKTtcbiAgICAgIGlmIChvcHRzKSB7XG4gICAgICAgIGNoZWNrQXJnKG9wdHMuZGVzdHJ1Y3RpdmUsICdvcHRzLmRlc2N0cnVjdGl2ZScsICdib29sZWFuJyk7XG4gICAgICAgIGNoZWNrQXJnKG9wdHMudHlwZWNhc3QsICdvcHRzLnR5cGVjYXN0JywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cmwgPSBgJHtiYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX0vJHtyZWNvcmQuaWR9YDtcbiAgICAgIGNvbnN0IGJvZHk6IHF1ZXJ5Qm9keSA9IHsgZmllbGRzOiByZWNvcmQuZmllbGRzIH07XG4gICAgICBpZiAob3B0cz8udHlwZWNhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBib2R5LnR5cGVjYXN0ID0gb3B0cz8udHlwZWNhc3Q7XG4gICAgICB9XG4gICAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogb3B0cz8uZGVzdHJ1Y3RpdmUgPyAncHV0JyA6ICdwYXRjaCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YTogQWlydGFibGVSZWNvcmQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1ldGhvZDogb3B0cz8uZGVzdHJ1Y3RpdmUgPyAncHV0JyA6ICdwYXRjaCcsXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSByZWNvcmQgZnJvbSB0aGUgc3BlY2lmaWVkIHRhYmxlLlxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSBpZCAtIEFpcnRhYmxlIHJlY29yZCBJRFxuICAgKiBAcmV0dXJuc1xuICAgKiBAYXN5bmNcbiAgICovXG4gIGRlbGV0ZVJlY29yZCA9IGFzeW5jICh0YWJsZTogc3RyaW5nLCBpZDogc3RyaW5nKTogUHJvbWlzZTxEZWxldGVSZXNwb25zZT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcoaWQsICdpZCcsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfS8ke2lkfWA7XG4gICAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YTogRGVsZXRlUmVzcG9uc2UgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbXVsdGlwbGUgbmV3IHJlY29yZHMgb24gdGhlIHNwZWNpZmllZCB0YWJsZS5cbiAgICogQHBhcmFtIHRhYmxlIC0gVGFibGUgbmFtZVxuICAgKiBAcGFyYW0gcmVjb3JkcyAtIEFuIGFycmF5IG9mIFJlY29yZCBvYmplY3RzXG4gICAqIEBwYXJhbSB0eXBlY2FzdCAtIFVzZWQgZm9yIGFsbG93aW5nIHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgc2VsZWN0aW9ucyBmb3IgU2VsZWN0IGFuZCBNdWx0aXNlbGVjdCBmaWVsZHMuXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYnVsa0NyZWF0ZSA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIHJlY29yZHM6IEZpZWxkc1tdLFxuICAgIHR5cGVjYXN0PzogVHlwZWNhc3QsXG4gICk6IFByb21pc2U8QWlydGFibGVSZWNvcmRbXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcocmVjb3JkcywgJ3JlY29yZHMnLCAnYXJyYXknKTtcbiAgICAgIGNoZWNrQXJnKHR5cGVjYXN0LCAndHlwZWNhc3QnLCAnYm9vbGVhbicsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVUkx9LyR7dGhpcy5iYXNlfS8ke3RhYmxlfWA7XG4gICAgICBjb25zdCBib2R5OiBidWxrUXVlcnlCb2R5ID0ge1xuICAgICAgICByZWNvcmRzOiByZWNvcmRzLm1hcCgocmVjb3JkKSA9PiAoe1xuICAgICAgICAgIGZpZWxkczogcmVjb3JkLFxuICAgICAgICB9KSksXG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVjYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYm9keS50eXBlY2FzdCA9IHR5cGVjYXN0O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzOiBSZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkYXRhOiBBaXJ0YWJsZVJlY29yZFJlc3BvbnNlID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmIChjaGVja0Vycm9yKHJlcy5zdGF0dXMpKSB7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSA0MjkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmV0cnlPblJhdGVMaW1pdCkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCByYXRlTGltaXRIYW5kbGVyKFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0LFxuICAgICAgICAgICAgdGhpcy5tYXhSZXRyeSxcbiAgICAgICAgICAgICdyZWNvcmRzJyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YS5yZWNvcmRzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIG11bHRpcGxlIHJlY29yZHMgb24gdGhlIHNwZWNpZmllZCB0YWJsZVxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSByZWNvcmRzIC0gQW4gYXJyYXkgb2YgUmVjb3JkIG9iamVjdHNcbiAgICogQHBhcmFtIG9wdHMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zIGZvciB5b3VyIHVwZGF0ZSBzdGF0ZW1lbnRcbiAgICogQHJldHVybnNcbiAgICogQGFzeW5jXG4gICAqL1xuICBidWxrVXBkYXRlID0gYXN5bmMgKFxuICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgcmVjb3JkczogQWlydGFibGVVcGRhdGVSZWNvcmRbXSxcbiAgICBvcHRzPzogdXBkYXRlT3B0cyxcbiAgKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZFtdPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNoZWNrQXJnKHRhYmxlLCAndGFibGUnLCAnc3RyaW5nJyk7XG4gICAgICBjaGVja0FyZyhyZWNvcmRzLCAncmVjb3JkcycsICdhcnJheScpO1xuICAgICAgaWYgKG9wdHMpIHtcbiAgICAgICAgY2hlY2tBcmcob3B0cy5kZXN0cnVjdGl2ZSwgJ29wdHMuZGVzY3RydWN0aXZlJywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICAgIGNoZWNrQXJnKG9wdHMudHlwZWNhc3QsICdvcHRzLnR5cGVjYXN0JywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cmwgPSBgJHtiYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX1gO1xuICAgICAgY29uc3QgYm9keTogYnVsa1F1ZXJ5Qm9keSA9IHsgcmVjb3JkcyB9O1xuICAgICAgaWYgKG9wdHM/LnR5cGVjYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYm9keS50eXBlY2FzdCA9IG9wdHM/LnR5cGVjYXN0O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzOiBSZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6IG9wdHM/LmRlc3RydWN0aXZlID8gJ3B1dCcgOiAncGF0Y2gnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRhdGE6IEFpcnRhYmxlUmVjb3JkUmVzcG9uc2UgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1ldGhvZDogb3B0cz8uZGVzdHJ1Y3RpdmUgPyAncHV0JyA6ICdwYXRjaCcsXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgICAncmVjb3JkcycsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGEucmVjb3JkcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlcyBtdWx0aXBsZSByZWNvcmRzIGZyb20gdGhlIHNwZWNpZmllZCB0YWJsZVxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSBpZHMgLSBBcnJheSBvZiBBaXJ0YWJsZSByZWNvcmQgSURzXG4gICAqIEByZXR1cm5zXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYnVsa0RlbGV0ZSA9IGFzeW5jIChcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIGlkczogc3RyaW5nW10sXG4gICk6IFByb21pc2U8RGVsZXRlUmVzcG9uc2VbXT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjaGVja0FyZyh0YWJsZSwgJ3RhYmxlJywgJ3N0cmluZycpO1xuICAgICAgY2hlY2tBcmcoaWRzLCAnaWRzJywgJ2FycmF5Jyk7XG4gICAgICBsZXQgcXVlcnkgPSAnJztcbiAgICAgIGlkcy5mb3JFYWNoKChpZCwgaSkgPT4ge1xuICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgIHF1ZXJ5ID0gYCR7cXVlcnl9JnJlY29yZHNbXT0ke2lkfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVlcnkgPSBgcmVjb3Jkc1tdPSR7aWR9YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCB1cmwgPSBgJHtiYXNlVVJMfS8ke3RoaXMuYmFzZX0vJHt0YWJsZX0/JHtlbmNvZGVVUkkocXVlcnkpfWA7XG4gICAgICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YTogQWlydGFibGVEZWxldGVkUmVzcG9uc2UgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGNoZWNrRXJyb3IocmVzLnN0YXR1cykpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXRyeU9uUmF0ZUxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHJhdGVMaW1pdEhhbmRsZXIoXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCxcbiAgICAgICAgICAgIHRoaXMubWF4UmV0cnksXG4gICAgICAgICAgICAncmVjb3JkcycsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGEucmVjb3JkcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgcmVjb3JkIGV4aXN0cywgYW5kIGlmIGl0IGRvZXMgdXBkYXRlcyBpdCwgaWYgbm90IGNyZWF0ZXMgYSBuZXcgcmVjb3JkLlxuICAgKiBAcGFyYW0gdGFibGUgLSBUYWJsZSBuYW1lXG4gICAqIEBwYXJhbSBmaWx0ZXJTdHJpbmcgLSBUaGUgZmlsdGVyIGZvcm11bGEgc3RyaW5nIHVzZWQgdG8gY2hlY2sgZm9yIGEgcmVjb3JkXG4gICAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgb2JqZWN0IHVzZWQgdG8gZWl0aGVyIHVwZGF0ZSBvciBjcmVhdGUgYSByZWNvcmRcbiAgICogQHBhcmFtIG9wdHMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zIGZvciB5b3VyIHVwZGF0ZSBzdGF0ZW1lbnRcbiAgICogQHJldHVybnNcbiAgICogQGFzeW5jXG4gICAqL1xuICB1cHNlcnRSZWNvcmQgPSBhc3luYyAoXG4gICAgdGFibGU6IHN0cmluZyxcbiAgICBmaWx0ZXJTdHJpbmc6IHN0cmluZyxcbiAgICByZWNvcmQ6IEZpZWxkcyxcbiAgICBvcHRzPzogdXBkYXRlT3B0cyxcbiAgKTogUHJvbWlzZTxBaXJ0YWJsZVJlY29yZD4gPT4ge1xuICAgIGNoZWNrQXJnKHRhYmxlLCAndGFibGUnLCAnc3RyaW5nJyk7XG4gICAgY2hlY2tBcmcoZmlsdGVyU3RyaW5nLCAnZmlsdGVyU3RyaW5nJywgJ3N0cmluZycpO1xuICAgIGNoZWNrQXJnKHJlY29yZCwgJ3JlY29yZCcsICdvYmplY3QnKTtcbiAgICBpZiAob3B0cykge1xuICAgICAgY2hlY2tBcmcob3B0cy5kZXN0cnVjdGl2ZSwgJ29wdHMuZGVzY3RydWN0aXZlJywgJ2Jvb2xlYW4nLCBmYWxzZSk7XG4gICAgICBjaGVja0FyZyhvcHRzLnR5cGVjYXN0LCAnb3B0cy50eXBlY2FzdCcsICdib29sZWFuJywgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCB0aGlzLnNlbGVjdCh0YWJsZSwgeyBmaWx0ZXJCeUZvcm11bGE6IGZpbHRlclN0cmluZyB9KTtcbiAgICBpZiAoIWV4aXN0c1swXSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlUmVjb3JkKHRhYmxlLCByZWNvcmQsIG9wdHM/LnR5cGVjYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlUmVjb3JkKFxuICAgICAgICB0YWJsZSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBleGlzdHNbMF0uaWQsXG4gICAgICAgICAgZmllbGRzOiByZWNvcmQsXG4gICAgICAgIH0sXG4gICAgICAgIG9wdHMsXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0ID0gQXN5bmNBaXJ0YWJsZTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy5Bc3luY0FpcnRhYmxlID0gQXN5bmNBaXJ0YWJsZTtcbn1cbiIsImltcG9ydCB7IFNlbGVjdE9wdGlvbnMgfSBmcm9tICcuL0B0eXBlcyc7XG5pbXBvcnQgcXVlcnlCdWlsZGVyIGZyb20gJy4vcXVlcnlCdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgKG9wdHM6IFNlbGVjdE9wdGlvbnMpOiBzdHJpbmcgPT4ge1xuICBpZiAoXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMsICdmaWx0ZXJCeUZvcm11bGEnKSAmJlxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLCAnd2hlcmUnKVxuICApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0Nhbm5vdCB1c2UgYm90aCB3aGVyZSBhbmQgZmlsdGVyQnlGb3JtdWxhIGFzIHRoZXkgYWNjb21wbGlzaCB0aGUgc2FtZSB0aGluZycsXG4gICAgKTtcblxuICBjb25zdCBwYXJhbXMgPSBPYmplY3Qua2V5cyhvcHRzKVxuICAgIC5tYXAoKGtleTogc3RyaW5nLCBpKSA9PiB7XG4gICAgICAvKiogQHRvZG8gRmluZCBhIGJldHRlciB0eXBlIHRoYW4gYW55IGZvciB0aGlzICovXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3Qgb3B0OiBhbnkgPSBvcHRzW2tleSBhcyBrZXlvZiBTZWxlY3RPcHRpb25zXTtcbiAgICAgIGxldCBmb3JtYXR0ZWQ7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHQpKSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IG9wdFxuICAgICAgICAgIC5tYXAoKGl0ZW0sIGopID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGl0ZW0pIHtcbiAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbSlcbiAgICAgICAgICAgICAgICAgIC5tYXAoKHN1YktleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7a2V5fVske2p9XVske3N1YktleX1dPSR7aXRlbVtzdWJLZXldfWA7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7a2V5fVtdPSR7aXRlbX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJyYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrZXkgPT09ICd3aGVyZScpIHtcbiAgICAgICAgICBmb3JtYXR0ZWQgPSBgZmlsdGVyQnlGb3JtdWxhPSR7cXVlcnlCdWlsZGVyKG9wdCl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3JtYXR0ZWQgPSBgJHtrZXl9PSR7b3B0fWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpICE9PSAwID8gYCYke2Zvcm1hdHRlZH1gIDogZm9ybWF0dGVkO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xuICByZXR1cm4gZW5jb2RlVVJJKHBhcmFtcyk7XG59O1xuIiwiaW1wb3J0IHsgQXJnIH0gZnJvbSAnLi9AdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCAoXG4gIGFyZzogQXJnLFxuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU6IHN0cmluZyxcbiAgcmVxdWlyZWQgPSB0cnVlLFxuKTogdm9pZCA9PiB7XG4gIGlmIChhcmcgPT09IHVuZGVmaW5lZCAmJiByZXF1aXJlZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwiJHtuYW1lfVwiIGlzIHJlcXVpcmVkLmApO1xuICBpZiAoYXJnID09PSB1bmRlZmluZWQgJiYgIXJlcXVpcmVkKSByZXR1cm47XG4gIGlmICh0eXBlb2YgYXJnICE9PSB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdhcnJheScgJiYgQXJyYXkuaXNBcnJheShhcmcpKSByZXR1cm47XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEluY29ycmVjdCBkYXRhIHR5cGUgb24gYXJndW1lbnQgXCIke25hbWV9XCIuIFJlY2VpdmVkIFwiJHt0eXBlb2YgYXJnfVwiOiBleHBlY3RlZCBcIiR7dHlwZX1cImAsXG4gICAgKTtcbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4gPT4gc3RhdHVzID49IDMwMDtcbiIsImltcG9ydCAqIGFzIG5vZGVGZXRjaCBmcm9tICdub2RlLWZldGNoJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gID8gd2luZG93LmZldGNoLmJpbmQod2luZG93KVxuICA6ICgobm9kZUZldGNoIGFzIHVua25vd24pIGFzIHR5cGVvZiBmZXRjaCk7XG4iLCJpbXBvcnQge1xuICBOdW1lcmljYWxPcGVyYXRvcnMsXG4gIFF1ZXJ5T2JqZWN0LFxuICBMb2dpY2FsT3BlcmF0b3JzLFxuICBRdWVyeUZpZWxkLFxuICBCYXNlRmllbGRUeXBlLFxuICBDb21wYXJpc29uT2JqZWN0LFxufSBmcm9tICcuL0B0eXBlcyc7XG5cbmNvbnN0IG9wZXJhdG9ycyA9IFsnPScsICchPScsICc+JywgJz49JywgJzwnLCAnPD0nXTtcblxuZXhwb3J0IGNvbnN0IGlzUXVlcnlPYmplY3QgPSAoaXRlbTogUXVlcnlGaWVsZCk6IGJvb2xlYW4gPT4ge1xuICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgUXVlcnkgT2JqZWN0Jyk7XG4gIGNvbnN0IHR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcbiAgcmV0dXJuIGl0ZW0gIT09IG51bGwgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGVvZiBpdGVtKTtcbn07XG5cbmV4cG9ydCBjb25zdCBidWlsZEV4cHJlc3Npb24gPSAob2JqOiBDb21wYXJpc29uT2JqZWN0LCBvcDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob2JqKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgb3IgSW52YWxpZCBDb21wYXJpc29uIE9iamVjdCcpO1xuICBpZiAodHlwZW9mIG9wICE9PSAnc3RyaW5nJyAmJiAhb3BlcmF0b3JzLmluY2x1ZGVzKG9wKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgb3IgSW52YWxpZCBDb21wYXJpc29uIE9wZXJhdG9yJyk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBjb25zdCBleHByZXNzaW9uTWFwcGVyID0gKGs6IHN0cmluZywgaTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdmFsID0gYmFzZUhhbmRsZXIob2JqW2tdKTtcbiAgICByZXR1cm4gYHske2t9fSAke29wfSAke3ZhbH0ke2kgPCBrZXlzLmxlbmd0aCAtIDEgPyAnLCAnIDogJyd9YDtcbiAgfTtcblxuICBjb25zdCBleHAgPSBgJHtrZXlzLm1hcChleHByZXNzaW9uTWFwcGVyKS5qb2luKCcnKX1gO1xuICByZXR1cm4ga2V5cy5sZW5ndGggPiAxID8gYEFORCgke2V4cH0pYCA6IGV4cDtcbn07XG5cbmV4cG9ydCBjb25zdCBudW1lcmljYWxPcGVyYXRvcnM6IE51bWVyaWNhbE9wZXJhdG9ycyA9IHtcbiAgJGd0OiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc+Jyk7XG4gIH0sXG4gICRsdDogKHZhbCkgPT4ge1xuICAgIHJldHVybiBidWlsZEV4cHJlc3Npb24odmFsLCAnPCcpO1xuICB9LFxuICAkZ3RlOiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc+PScpO1xuICB9LFxuICAkbHRlOiAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRXhwcmVzc2lvbih2YWwsICc8PScpO1xuICB9LFxuICAkZXE6ICh2YWwpID0+IHtcbiAgICByZXR1cm4gYnVpbGRFeHByZXNzaW9uKHZhbCwgJz0nKTtcbiAgfSxcbiAgJG5lcTogKHZhbCkgPT4ge1xuICAgIHJldHVybiBidWlsZEV4cHJlc3Npb24odmFsLCAnIT0nKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dpY2FsT3BlcmF0b3JzOiBMb2dpY2FsT3BlcmF0b3JzID0ge1xuICAkbm90OiAoZXhwcmVzc2lvbjogUXVlcnlPYmplY3QpID0+IGBOT1QoJHtxdWVyeUJ1aWxkZXIoZXhwcmVzc2lvbil9KWAsXG4gICRhbmQ6IChhcmdzOiBRdWVyeU9iamVjdFtdKSA9PiB7XG4gICAgbGV0IHN0ciA9ICdBTkQoJztcbiAgICBhcmdzLmZvckVhY2goKGFyZywgaSkgPT4ge1xuICAgICAgc3RyICs9IHF1ZXJ5QnVpbGRlcihhcmcpO1xuICAgICAgaWYgKGkgPCBhcmdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0ciArICcpJztcbiAgfSxcbiAgJG9yOiAoYXJnczogUXVlcnlPYmplY3RbXSkgPT4ge1xuICAgIGxldCBzdHIgPSAnT1IoJztcbiAgICBhcmdzLmZvckVhY2goKGFyZywgaSkgPT4ge1xuICAgICAgc3RyICs9IHF1ZXJ5QnVpbGRlcihhcmcpO1xuICAgICAgaWYgKGkgPCBhcmdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0ciArICcpJztcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBib29sZWFuSGFuZGxlciA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcbiAgaWYgKHR5cGVvZiBib29sICE9PSAnYm9vbGVhbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpO1xuICB9XG4gIHJldHVybiBib29sID8gJ1RSVUUoKScgOiAnRkFMU0UoKSc7XG59O1xuXG5leHBvcnQgY29uc3QgYmFzZUhhbmRsZXIgPSAodmFsOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbCk6IHN0cmluZyA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gJ0JMQU5LKCknO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHZhbCkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYCR7dmFsfWA7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBgJyR7dmFsfSdgO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIGJvb2xlYW5IYW5kbGVyKHZhbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgVHlwZScpO1xuICB9XG59O1xuXG5jb25zdCBxdWVyeUJ1aWxkZXIgPSAocXVlcnk6IFF1ZXJ5T2JqZWN0KTogc3RyaW5nID0+IHtcbiAgbGV0IGZvcm11bGFTdHJpbmcgPSAnJztcbiAgaWYgKE9iamVjdC5rZXlzKHF1ZXJ5IGFzIFJlY29yZDxzdHJpbmcsIFF1ZXJ5RmllbGQ+KS5sZW5ndGggPiAxKSB7XG4gICAgZm9ybXVsYVN0cmluZyArPSBsb2dpY2FsT3BlcmF0b3JzLiRhbmQoXG4gICAgICBPYmplY3Qua2V5cyhxdWVyeSkubWFwKChrKSA9PiAoeyBba106IHF1ZXJ5W2tdIH0pKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHF1ZXJ5KSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcXVlcnlba2V5XTtcblxuICAgICAgaWYgKGtleSBpbiBudW1lcmljYWxPcGVyYXRvcnMgJiYgaXNRdWVyeU9iamVjdChjdXJyZW50IGFzIFF1ZXJ5T2JqZWN0KSkge1xuICAgICAgICBmb3JtdWxhU3RyaW5nICs9IG51bWVyaWNhbE9wZXJhdG9yc1trZXldKFxuICAgICAgICAgIGN1cnJlbnQgYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPixcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGtleSBpbiBsb2dpY2FsT3BlcmF0b3JzICYmXG4gICAgICAgIChpc1F1ZXJ5T2JqZWN0KGN1cnJlbnQgYXMgUXVlcnlPYmplY3QpIHx8IEFycmF5LmlzQXJyYXkoY3VycmVudCkpXG4gICAgICApIHtcbiAgICAgICAgZm9ybXVsYVN0cmluZyArPSBsb2dpY2FsT3BlcmF0b3JzW2tleV0oXG4gICAgICAgICAgY3VycmVudCBhcyBRdWVyeU9iamVjdCAmIFF1ZXJ5T2JqZWN0W10sXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtdWxhU3RyaW5nICs9IGJ1aWxkRXhwcmVzc2lvbihcbiAgICAgICAgICBxdWVyeSBhcyBSZWNvcmQ8c3RyaW5nLCBCYXNlRmllbGRUeXBlPixcbiAgICAgICAgICAnPScsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmb3JtdWxhU3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcXVlcnlCdWlsZGVyO1xuIiwiaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKFxuICB1cmw6IHN0cmluZyxcbiAgb3B0czogUmVxdWVzdEluaXQsXG4gIHJldHJ5VGltZW91dDogbnVtYmVyLFxuICBtYXhSZXRyeTogbnVtYmVyLFxuICBrZXk/OiBzdHJpbmcsXG4gIC8qKiBAdG9kbyBGaW5kIGEgYmV0dGVyIHR5cGUgdGhhbiBhbnkgZm9yIHRoaXMgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbik6IFByb21pc2U8YW55PiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmV0cnlSYXRlTGltaXQgPSAoXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdHM6IFJlcXVlc3RJbml0LFxuICAgICAgcmV0cnlUaW1lb3V0OiBudW1iZXIsXG4gICAgICBtYXhSZXRyeTogbnVtYmVyLFxuICAgICAga2V5Pzogc3RyaW5nLFxuICAgICk6IHZvaWQgPT4ge1xuICAgICAgaWYgKG1heFJldHJ5ICYmIG1heFJldHJ5IDwgMSkge1xuICAgICAgICByZWplY3QoJ01heCB0aW1lb3V0IGV4Y2VlZGVkJyk7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIG9wdHMpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXRyeVJhdGVMaW1pdChcbiAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICBvcHRzLFxuICAgICAgICAgICAgICByZXRyeVRpbWVvdXQgKiAxLjUsXG4gICAgICAgICAgICAgIG1heFJldHJ5IC0gcmV0cnlUaW1lb3V0LFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGFba2V5XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmV0cnlUaW1lb3V0KTtcbiAgICB9O1xuXG4gICAgcmV0cnlSYXRlTGltaXQodXJsLCBvcHRzLCByZXRyeVRpbWVvdXQsIG1heFJldHJ5LCBrZXkpO1xuICB9KTtcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyg3NTkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==